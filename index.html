<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sliding Filament Theory</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .subtitle { font-size: 1.2em; opacity: 0.9; }
        .content { padding: 40px; }
        h2 {
            color: #667eea;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        h3 { color: #764ba2; margin-top: 20px; margin-bottom: 10px; font-size: 1.3em; }
        .intro {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .simulation {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .simulation h3 { color: white; font-size: 1.5em; margin-bottom: 20px; }
        canvas {
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: block;
            margin: 20px auto;
            cursor: pointer;
        }
        .controls { text-align: center; margin-top: 20px; }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 5px;
        }
        button:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
        button:active { transform: translateY(0); }
        .slider-container { margin: 20px 0; text-align: center; }
        input[type="range"] {
            width: 80%;
            height: 8px;
            border-radius: 5px;
            background: white;
            outline: none;
            margin: 10px 0;
        }
        .slider-label {
            color: white;
            font-size: 1.1em;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }
        .term {
            background: #f8f9fa;
            padding: 20px;
            margin: 15px 0;
            border-left: 5px solid #667eea;
            border-radius: 5px;
            transition: transform 0.2s;
        }
        .term:hover { transform: translateX(5px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .term-title { font-weight: bold; color: #667eea; font-size: 1.2em; margin-bottom: 5px; }
        .concept {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .process-steps { background: white; padding: 20px; border-radius: 10px; margin-top: 15px; }
        .step {
            padding: 15px;
            margin: 10px 0;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 8px;
            font-weight: 500;
        }
        .step::before { content: "‚Üí "; font-weight: bold; color: #667eea; }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-box { background: white; padding: 15px; border-radius: 10px; text-align: center; font-weight: bold; }
        .stat-value { font-size: 1.5em; color: #667eea; }
        .instruction {
            background: white;
            color: #333;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 1em;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ö° Sliding Filament Theory ‚ö°</h1>
            <p class="subtitle">Understanding Muscle Contraction at the Molecular Level</p>
            <p style="font-size: 0.9em; margin-top: 15px; opacity: 0.95;">Created & Visualized by Amaya Davis-Diop & Karina Rodda</p>
        </header>
        
        <div class="content">
            <div class="intro">
                <strong>The Sliding Filament Theory</strong> explains how muscles contract to produce force and movement. Rather than muscle fibers themselves shortening, the theory describes how protein filaments slide past each other within each sarcomere, the basic unit of muscle contraction. This sliding action, powered by ATP and regulated by calcium ions, causes the muscle to shorten and generate the force needed for everything from maintaining posture to explosive athletic movements.
            </div>
            
            <h2>üèÉ Interactive Simulation 1: Sprint Start</h2>
            <div class="simulation">
                <h3>Experience Explosive Muscle Contraction</h3>
                <canvas id="sprintCanvas" width="800" height="400"></canvas>
                <div class="stats">
                    <div class="stat-box"><div>Contractions</div><div class="stat-value" id="contractionCount">0</div></div>
                    <div class="stat-box"><div>ATP Used</div><div class="stat-value" id="atpCount">0</div></div>
                    <div class="stat-box"><div>Calcium Level</div><div class="stat-value" id="calciumLevel">Low</div></div>
                    <div class="stat-box"><div>Force Generated</div><div class="stat-value" id="forceLevel">0%</div></div>
                </div>
                <div class="instruction">Click the canvas or press SPACEBAR to trigger muscle contraction!</div>
                <div class="controls">
                    <button id="contractBtn">üî• CONTRACT MUSCLE</button>
                    <button id="resetBtn">üîÑ Reset</button>
                </div>
            </div>
            
            <h2>üí™ Interactive Simulation 2: Posture vs Heavy Load</h2>
            <div class="simulation">
                <h3>Compare Muscle Activity Under Different Loads</h3>
                <canvas id="loadCanvas" width="800" height="500"></canvas>
                <div class="slider-container">
                    <label class="slider-label">Adjust Load: <span id="loadValue">0</span>%</label>
                    <input type="range" id="loadSlider" min="0" max="100" value="0">
                </div>
                <div class="stats">
                    <div class="stat-box"><div>Postural ATP</div><div class="stat-value" id="posturalATP">10</div></div>
                    <div class="stat-box"><div>Loaded ATP</div><div class="stat-value" id="loadedATP">10</div></div>
                    <div class="stat-box"><div>Cross-bridges (Postural)</div><div class="stat-value" id="posturalBridges">2</div></div>
                    <div class="stat-box"><div>Cross-bridges (Loaded)</div><div class="stat-value" id="loadedBridges">2</div></div>
                </div>
            </div>
            
            <h2>üìö Key Terms</h2>
            <div class="term"><div class="term-title">Sarcomere</div>The basic functional unit of a muscle fiber, extending from one Z-line to the next.</div>
            <div class="term"><div class="term-title">Actin (Thin Filament)</div>The thin protein filament anchored at the Z-lines that is pulled inward by myosin heads.</div>
            <div class="term"><div class="term-title">Myosin (Thick Filament)</div>The thick protein filament with heads that bind to actin to generate force.</div>
            <div class="term"><div class="term-title">Z-line (Z-disc)</div>The boundary structures that define each end of a sarcomere and move closer together during contraction.</div>
            <div class="term"><div class="term-title">Cross-bridge</div>The physical connection formed when a myosin head binds to an actin filament.</div>
            <div class="term"><div class="term-title">ATP</div>The energy molecule required for myosin to detach from actin and re-cock for the next cycle.</div>
            <div class="term"><div class="term-title">Calcium Ion (Ca¬≤‚Å∫)</div>The trigger molecule that binds to troponin and exposes actin binding sites.</div>
            <div class="term"><div class="term-title">Power Stroke</div>The pivoting motion of the myosin head that pulls actin inward, generating force.</div>
            
            <h2>üî¨ Core Concepts</h2>
            <div class="concept">
                <h3>The Sliding Mechanism</h3>
                <p>Neither actin nor myosin filaments change length during contraction. Instead, they slide past each other like interlocking fingers moving closer together.</p>
            </div>
            <div class="concept">
                <h3>Contraction Sequence</h3>
                <div class="process-steps">
                    <div class="step">Neural signal triggers calcium release</div>
                    <div class="step">Calcium binds to troponin, exposing actin sites</div>
                    <div class="step">Myosin heads bind to actin, forming cross-bridges</div>
                    <div class="step">Power stroke pulls actin inward</div>
                    <div class="step">ATP binds, causing myosin to detach</div>
                    <div class="step">ATP is hydrolyzed, re-cocking myosin head</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const sprintCanvas = document.getElementById('sprintCanvas');
        const sprintCtx = sprintCanvas.getContext('2d');
        const loadCanvas = document.getElementById('loadCanvas');
        const loadCtx = loadCanvas.getContext('2d');
        
        let contractionCount = 0, atpUsed = 0, calciumActive = false;
        let sarcomereLength = 200, isContracting = false, contractionPhase = 0;
        let currentLoad = 0;
        
        function drawSprintSarcomere() {
            sprintCtx.clearRect(0, 0, 800, 400);
            const cy = 200, cx = 400;
            
            sprintCtx.strokeStyle = '#333';
            sprintCtx.lineWidth = 4;
            sprintCtx.beginPath();
            sprintCtx.moveTo(cx - sarcomereLength, cy - 60);
            sprintCtx.lineTo(cx - sarcomereLength, cy + 60);
            sprintCtx.moveTo(cx + sarcomereLength, cy - 60);
            sprintCtx.lineTo(cx + sarcomereLength, cy + 60);
            sprintCtx.stroke();
            
            sprintCtx.fillStyle = '#e74c3c';
            sprintCtx.fillRect(cx - 80, cy - 8, 160, 16);
            for (let i = -3; i <= 3; i++) {
                sprintCtx.beginPath();
                sprintCtx.arc(cx + i * 25, cy - 15, 6, 0, Math.PI * 2);
                sprintCtx.fill();
                sprintCtx.beginPath();
                sprintCtx.arc(cx + i * 25, cy + 15, 6, 0, Math.PI * 2);
                sprintCtx.fill();
            }
            
            sprintCtx.fillStyle = '#3498db';
            sprintCtx.fillRect(cx - sarcomereLength, cy - 30, sarcomereLength - 90, 8);
            sprintCtx.fillRect(cx + 90, cy - 30, sarcomereLength - 90, 8);
            sprintCtx.fillRect(cx - sarcomereLength, cy + 22, sarcomereLength - 90, 8);
            sprintCtx.fillRect(cx + 90, cy + 22, sarcomereLength - 90, 8);
            
            if (calciumActive) {
                sprintCtx.fillStyle = '#f39c12';
                for (let i = 0; i < 15; i++) {
                    sprintCtx.beginPath();
                    sprintCtx.arc(cx - 150 + Math.random() * 300, cy - 70 + Math.random() * 140, 4, 0, Math.PI * 2);
                    sprintCtx.fill();
                }
            }
            
            sprintCtx.fillStyle = '#2ecc71';
            sprintCtx.font = 'bold 14px Arial';
            for (let i = 0; i < 3; i++) sprintCtx.fillText('ATP', cx - 100 + i * 100, cy + 80);
        }
        
        function triggerContraction() {
            if (isContracting) return;
            isContracting = true;
            calciumActive = true;
            contractionCount++;
            atpUsed += 8;
            
            const interval = setInterval(() => {
                contractionPhase++;
                if (sarcomereLength > 140) sarcomereLength -= 4;
                drawSprintSarcomere();
                updateSprintStats();
                
                if (contractionPhase >= 15) {
                    clearInterval(interval);
                    setTimeout(() => {
                        calciumActive = false;
                        updateSprintStats();
                        const relax = setInterval(() => {
                            if (sarcomereLength < 200) {
                                sarcomereLength += 4;
                                drawSprintSarcomere();
                                updateSprintStats();
                            } else {
                                clearInterval(relax);
                                isContracting = false;
                                contractionPhase = 0;
                                drawSprintSarcomere();
                                updateSprintStats();
                            }
                        }, 30);
                    }, 200);
                }
            }, 30);
        }
        
        function updateSprintStats() {
            document.getElementById('contractionCount').textContent = contractionCount;
            document.getElementById('atpCount').textContent = atpUsed;
            document.getElementById('calciumLevel').textContent = calciumActive ? 'High' : 'Low';
            document.getElementById('forceLevel').textContent = Math.round((200 - sarcomereLength) / 60 * 100) + '%';
        }
        
        function resetSprint() {
            contractionCount = 0;
            atpUsed = 0;
            calciumActive = false;
            sarcomereLength = 200;
            isContracting = false;
            contractionPhase = 0;
            drawSprintSarcomere();
            updateSprintStats();
        }
        
        function drawSarcomere(ctx, cy, cx, len, bridges, atp) {
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(cx - len/2, cy - 40);
            ctx.lineTo(cx - len/2, cy + 40);
            ctx.moveTo(cx + len/2, cy - 40);
            ctx.lineTo(cx + len/2, cy + 40);
            ctx.stroke();
            
            ctx.fillStyle = '#e74c3c';
            ctx.fillRect(cx - 60, cy - 6, 120, 12);
            
            for (let i = 0; i < bridges; i++) {
                const x = cx - 60 + (120 / (bridges + 1)) * (i + 1);
                ctx.beginPath();
                ctx.arc(x, cy - 12, 5, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(x, cy + 12, 5, 0, Math.PI * 2);
                ctx.fill();
            }
            
            ctx.fillStyle = '#3498db';
            const aLen = len/2 - 65;
            ctx.fillRect(cx - len/2, cy - 22, aLen, 6);
            ctx.fillRect(cx + 65, cy - 22, aLen, 6);
            ctx.fillRect(cx - len/2, cy + 16, aLen, 6);
            ctx.fillRect(cx + 65, cy + 16, aLen, 6);
            
            ctx.fillStyle = '#2ecc71';
            ctx.font = 'bold 12px Arial';
            ctx.fillText('ATP: ' + atp, cx - 25, cy + 60);
        }
        
        function drawLoadComparison() {
            loadCtx.clearRect(0, 0, 800, 500);
            loadCtx.fillStyle = '#333';
            loadCtx.font = 'bold 16px Arial';
            loadCtx.fillText('Postural Muscle (Low Load)', 60, 40);
            loadCtx.fillText('Heavy Load Muscle', 500, 40);
            
            // Left muscle (postural) - cy, cx, length, bridges, atp
            drawSarcomere(loadCtx, 250, 200, 180, 2, 10);
            
            // Right muscle (loaded) - same Y position for alignment
            const loadLen = 180 - (currentLoad * 0.6);
            const bridges = 2 + Math.floor(currentLoad / 12);
            const atp = 10 + Math.floor(currentLoad / 5);
            drawSarcomere(loadCtx, 250, 600, loadLen, bridges, atp);
            
            document.getElementById('posturalATP').textContent = 10;
            document.getElementById('loadedATP').textContent = atp;
            document.getElementById('posturalBridges').textContent = 2;
            document.getElementById('loadedBridges').textContent = bridges;
        }
        
        function updateLoad(val) {
            currentLoad = parseInt(val);
            document.getElementById('loadValue').textContent = currentLoad;
            drawLoadComparison();
        }
        
        document.getElementById('contractBtn').addEventListener('click', triggerContraction);
        document.getElementById('resetBtn').addEventListener('click', resetSprint);
        sprintCanvas.addEventListener('click', triggerContraction);
        document.addEventListener('keydown', e => {
            if (e.code === 'Space') { e.preventDefault(); triggerContraction(); }
        });
        document.getElementById('loadSlider').addEventListener('input', e => updateLoad(e.target.value));
        
        drawSprintSarcomere();
        updateSprintStats();
        drawLoadComparison();
    </script>
</body>
</html>
